{% extends 'pages/base.html' %}

{% block content %}
<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2>Feed Stock List</h2>
    <a href="{% url 'add_feed_stock' %}" class="btn btn-primary">Add New Feed Stock</a>
  </div>

  {% if feedstocks %}
  <div class="table-responsive">
    <table class="table table-striped table-hover align-middle">
      <thead class="table-dark">
        <tr>
          <th>#</th>
          <th>Feed Name</th>
          <th>Quantity</th>
          <th>Feed Type</th>
          <th>Brand</th>
          <th>Chick Type</th>
          <th>Selling Price</th>
          <th>Date Added</th>
          <th>Supplier</th>
          <th>Actions</th>
        </tr>
      </thead>
    <tbody>
  {% for feed in feedstocks %}
  <tr>
    <td>{{ forloop.counter }}</td>
    <td>{{ feed.feed_name }}</td>
    <td>{{ feed.feed_quantity }}</td>
    <td>{{ feed.feed_type }}</td>
    <td>{{ feed.feed_brand }}</td>
    <td>
      {% if feed.chick_type %}
        {{ feed.chick_type.name }}
      {% else %}
        N/A
      {% endif %}
    </td>
    <td>{{ feed.selling_price }}</td>
    <td>{{ feed.date_added }}</td>
    <td>{{ feed.feed_supplier }}</td>
    <td>
      <a href="{% url 'edit_feed_stock' feed.id %}" class="btn btn-sm btn-warning">Edit</a>
      <a href="{% url 'delete_feed_stock' feed.id %}" class="btn btn-sm btn-danger" 
         onclick="return confirm('Are you sure you want to delete this feed stock?');">Delete</a>
    </td>
  </tr>
  {% endfor %}
</tbody>

    </table>
  </div>
  {% else %}
    <div class="alert alert-info">No feed stock available.</div>
  {% endif %}
</div>
{% endblock %}
